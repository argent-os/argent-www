(function(){'use strict';angular.module('app.profile').controller('ProfileController',profileController);profileController.$inject=['$http','$scope','notificator','UserFactory'];function profileController($http,$scope,notificator,UserFactory){$scope.roles=[{title:'admin',enabled:true},{title:'manager',enabled:true},{title:'contractor',enabled:true},{title:'customer',enabled:true},{title:'supplier',enabled:true},{title:'employee',enabled:true}];var vm=this;vm.responseErrorMsg='';UserFactory.getProfile().then(function(response){vm.user=response.data;});vm.update=function(user,role){$http.put('/api/v1/profile',{user:$scope.user,role:$scope.roles}).success(function(data){notificator.success('Profile changes saved')}).error(function(err){vm.responseErrorMsg=err.message;});};vm.cancel=function(){vm.responseErrorMsg='';};}})();